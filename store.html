<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delight Dental Care Upload</title>
</head>
<body>

<h2>Upload Product</h2>
<input type="file" id="productImage"><br><br>
<input type="text" id="productName" placeholder="Product name"><br><br>
<input type="text" id="productPrice" placeholder="Price"><br><br>
<textarea id="productDesc" placeholder="Description"></textarea><br><br>
<select id="productCategory">
<option value="Toothpaste">Toothpaste</option>
<option value="Mouthwash">Mouthwash</option>
<option value="Whitening">Whitening</option>
<option value="Dental Tools">Dental Tools</option>
<option value="Others">Others</option>
</select><br><br>
<button onclick="uploadProduct()">Upload Product</button>

<script>
const CLOUD_NAME = "dderxvs7g";  // your Cloudinary cloud name
const UPLOAD_PRESET = "Batir2";   // your unsigned preset

async function uploadProduct() {
  const file = document.getElementById("productImage").files[0];
  const name = document.getElementById("productName").value;
  const price = document.getElementById("productPrice").value;
  const desc = document.getElementById("productDesc").value;
  const category = document.getElementById("productCategory").value;

  if (!file || !name || !price || !desc) {
    alert("Fill all fields and select an image!");
    return;
  }

  try {
    const formData = new FormData();
    formData.append("file", file);
    formData.append("upload_preset", UPLOAD_PRESET);

    const res = await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/upload`, {
      method: "POST",
      body: formData
    });

    const data = await res.json();
    if (data.secure_url) {
      alert("Upload successful!\nImage URL: " + data.secure_url);
      console.log(data); // you can copy this URL to store in Firestore if needed
    } else {
      alert("Upload failed. Check console.");
      console.error(data);
    }

  } catch (err) {
    alert("Error uploading. Check console.");
    console.error(err);
  }
}
</script>

</body>
</html>